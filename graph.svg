<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 8.0.5 (20230430.1635)
 -->
<!-- Pages: 1 -->
<svg width="1504pt" height="620pt"
 viewBox="0.00 0.00 1503.58 620.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 616)">
<polygon fill="white" stroke="none" points="-4,4 -4,-616 1499.58,-616 1499.58,4 -4,4"/>
<!-- [root] nomad_job.dashboard (expand) -->
<g id="node1" class="node">
<title>[root] nomad_job.dashboard (expand)</title>
<polygon fill="none" stroke="black" points="1059.54,-468 922.79,-468 922.79,-432 1059.54,-432 1059.54,-468"/>
<text text-anchor="middle" x="991.16" y="-444.95" font-family="Times,serif" font-size="14.00">nomad_job.dashboard</text>
</g>
<!-- [root] vault_database_secret_backend_role.mongodb (expand) -->
<g id="node12" class="node">
<title>[root] vault_database_secret_backend_role.mongodb (expand)</title>
<polygon fill="none" stroke="black" points="870.91,-396 601.41,-396 601.41,-360 870.91,-360 870.91,-396"/>
<text text-anchor="middle" x="736.16" y="-372.95" font-family="Times,serif" font-size="14.00">vault_database_secret_backend_role.mongodb</text>
</g>
<!-- [root] nomad_job.dashboard (expand)&#45;&gt;[root] vault_database_secret_backend_role.mongodb (expand) -->
<g id="edge1" class="edge">
<title>[root] nomad_job.dashboard (expand)&#45;&gt;[root] vault_database_secret_backend_role.mongodb (expand)</title>
<path fill="none" stroke="black" d="M927.47,-431.52C891.74,-421.71 847,-409.43 809.77,-399.21"/>
<polygon fill="black" stroke="black" points="811.05,-395.65 800.48,-396.38 809.2,-402.4 811.05,-395.65"/>
</g>
<!-- [root] nomad_job.fullvm (expand) -->
<g id="node2" class="node">
<title>[root] nomad_job.fullvm (expand)</title>
<polygon fill="none" stroke="black" points="1305.16,-396 1187.16,-396 1187.16,-360 1305.16,-360 1305.16,-396"/>
<text text-anchor="middle" x="1246.16" y="-372.95" font-family="Times,serif" font-size="14.00">nomad_job.fullvm</text>
</g>
<!-- [root] provider[&quot;registry.terraform.io/hashicorp/nomad&quot;] -->
<g id="node6" class="node">
<title>[root] provider[&quot;registry.terraform.io/hashicorp/nomad&quot;]</title>
<polygon fill="none" stroke="black" points="925.16,-108 644.81,-90 925.16,-72 1205.52,-90 925.16,-108"/>
<text text-anchor="middle" x="925.16" y="-84.95" font-family="Times,serif" font-size="14.00">provider[&quot;registry.terraform.io/hashicorp/nomad&quot;]</text>
</g>
<!-- [root] nomad_job.fullvm (expand)&#45;&gt;[root] provider[&quot;registry.terraform.io/hashicorp/nomad&quot;] -->
<g id="edge2" class="edge">
<title>[root] nomad_job.fullvm (expand)&#45;&gt;[root] provider[&quot;registry.terraform.io/hashicorp/nomad&quot;]</title>
<path fill="none" stroke="black" d="M1251.03,-359.64C1261.89,-316.81 1282.94,-205.19 1227.16,-144 1206.18,-120.99 1141.31,-107.94 1077.04,-100.56"/>
<polygon fill="black" stroke="black" points="1077.65,-96.99 1067.32,-99.37 1076.88,-103.95 1077.65,-96.99"/>
</g>
<!-- [root] nomad_job.mongodb (expand) -->
<g id="node3" class="node">
<title>[root] nomad_job.mongodb (expand)</title>
<polygon fill="none" stroke="black" points="671.66,-180 538.66,-180 538.66,-144 671.66,-144 671.66,-180"/>
<text text-anchor="middle" x="605.16" y="-156.95" font-family="Times,serif" font-size="14.00">nomad_job.mongodb</text>
</g>
<!-- [root] nomad_job.mongodb (expand)&#45;&gt;[root] provider[&quot;registry.terraform.io/hashicorp/nomad&quot;] -->
<g id="edge3" class="edge">
<title>[root] nomad_job.mongodb (expand)&#45;&gt;[root] provider[&quot;registry.terraform.io/hashicorp/nomad&quot;]</title>
<path fill="none" stroke="black" d="M671.88,-146.05C675.02,-145.36 678.12,-144.67 681.16,-144 738.52,-131.35 803.52,-117.25 852,-106.77"/>
<polygon fill="black" stroke="black" points="852.67,-109.99 861.71,-104.46 851.19,-103.15 852.67,-109.99"/>
</g>
<!-- [root] null_resource.mongodb_root_rotation (expand) -->
<g id="node4" class="node">
<title>[root] null_resource.mongodb_root_rotation (expand)</title>
<polygon fill="none" stroke="black" points="433.29,-468 211.04,-468 211.04,-432 433.29,-432 433.29,-468"/>
<text text-anchor="middle" x="322.16" y="-444.95" font-family="Times,serif" font-size="14.00">null_resource.mongodb_root_rotation</text>
</g>
<!-- [root] vault_database_secrets_mount.mongodb (expand) -->
<g id="node13" class="node">
<title>[root] vault_database_secrets_mount.mongodb (expand)</title>
<polygon fill="none" stroke="black" points="668.79,-324 431.54,-324 431.54,-288 668.79,-288 668.79,-324"/>
<text text-anchor="middle" x="550.16" y="-300.95" font-family="Times,serif" font-size="14.00">vault_database_secrets_mount.mongodb</text>
</g>
<!-- [root] null_resource.mongodb_root_rotation (expand)&#45;&gt;[root] vault_database_secrets_mount.mongodb (expand) -->
<g id="edge4" class="edge">
<title>[root] null_resource.mongodb_root_rotation (expand)&#45;&gt;[root] vault_database_secrets_mount.mongodb (expand)</title>
<path fill="none" stroke="black" d="M350.12,-431.59C391.08,-406.08 467.49,-358.49 513.09,-330.09"/>
<polygon fill="black" stroke="black" points="514.69,-332.59 521.33,-324.33 510.99,-326.65 514.69,-332.59"/>
</g>
<!-- [root] null_resource.wait_for_db (expand) -->
<g id="node5" class="node">
<title>[root] null_resource.wait_for_db (expand)</title>
<polygon fill="none" stroke="black" points="750.79,-252 591.54,-252 591.54,-216 750.79,-216 750.79,-252"/>
<text text-anchor="middle" x="671.16" y="-228.95" font-family="Times,serif" font-size="14.00">null_resource.wait_for_db</text>
</g>
<!-- [root] null_resource.wait_for_db (expand)&#45;&gt;[root] nomad_job.mongodb (expand) -->
<g id="edge5" class="edge">
<title>[root] null_resource.wait_for_db (expand)&#45;&gt;[root] nomad_job.mongodb (expand)</title>
<path fill="none" stroke="black" d="M654.85,-215.7C646.93,-207.3 637.28,-197.07 628.6,-187.86"/>
<polygon fill="black" stroke="black" points="631.7,-185.98 622.29,-181.1 626.6,-190.78 631.7,-185.98"/>
</g>
<!-- [root] provider[&quot;registry.terraform.io/hashicorp/null&quot;] -->
<g id="node7" class="node">
<title>[root] provider[&quot;registry.terraform.io/hashicorp/null&quot;]</title>
<polygon fill="none" stroke="black" points="954.16,-180 689.73,-162 954.16,-144 1218.59,-162 954.16,-180"/>
<text text-anchor="middle" x="954.16" y="-156.95" font-family="Times,serif" font-size="14.00">provider[&quot;registry.terraform.io/hashicorp/null&quot;]</text>
</g>
<!-- [root] null_resource.wait_for_db (expand)&#45;&gt;[root] provider[&quot;registry.terraform.io/hashicorp/null&quot;] -->
<g id="edge6" class="edge">
<title>[root] null_resource.wait_for_db (expand)&#45;&gt;[root] provider[&quot;registry.terraform.io/hashicorp/null&quot;]</title>
<path fill="none" stroke="black" d="M741.84,-215.52C786.76,-204.41 844.51,-190.12 888.44,-179.26"/>
<polygon fill="black" stroke="black" points="889.14,-182.44 898.01,-176.64 887.46,-175.65 889.14,-182.44"/>
</g>
<!-- [root] var.nomad_addr -->
<g id="node9" class="node">
<title>[root] var.nomad_addr</title>
<polygon fill="none" stroke="black" points="971.41,-36 872.91,-36 872.91,0 977.41,0 977.41,-30 971.41,-36"/>
<polyline fill="none" stroke="black" points="971.41,-36 971.41,-30"/>
<polyline fill="none" stroke="black" points="977.41,-30 971.41,-30"/>
<text text-anchor="middle" x="925.16" y="-12.95" font-family="Times,serif" font-size="14.00">var.nomad_addr</text>
</g>
<!-- [root] provider[&quot;registry.terraform.io/hashicorp/nomad&quot;]&#45;&gt;[root] var.nomad_addr -->
<g id="edge9" class="edge">
<title>[root] provider[&quot;registry.terraform.io/hashicorp/nomad&quot;]&#45;&gt;[root] var.nomad_addr</title>
<path fill="none" stroke="black" d="M925.16,-71.7C925.16,-64.24 925.16,-55.32 925.16,-46.97"/>
<polygon fill="black" stroke="black" points="928.66,-47.1 925.16,-37.1 921.66,-47.1 928.66,-47.1"/>
</g>
<!-- [root] provider[&quot;registry.terraform.io/hashicorp/vault&quot;] -->
<g id="node8" class="node">
<title>[root] provider[&quot;registry.terraform.io/hashicorp/vault&quot;]</title>
<polygon fill="none" stroke="black" points="303.16,-252 32.94,-234 303.16,-216 573.38,-234 303.16,-252"/>
<text text-anchor="middle" x="303.16" y="-228.95" font-family="Times,serif" font-size="14.00">provider[&quot;registry.terraform.io/hashicorp/vault&quot;]</text>
</g>
<!-- [root] var.vault_addr -->
<g id="node10" class="node">
<title>[root] var.vault_addr</title>
<polygon fill="none" stroke="black" points="454.16,-180 366.16,-180 366.16,-144 460.16,-144 460.16,-174 454.16,-180"/>
<polyline fill="none" stroke="black" points="454.16,-180 454.16,-174"/>
<polyline fill="none" stroke="black" points="460.16,-174 454.16,-174"/>
<text text-anchor="middle" x="413.16" y="-156.95" font-family="Times,serif" font-size="14.00">var.vault_addr</text>
</g>
<!-- [root] provider[&quot;registry.terraform.io/hashicorp/vault&quot;]&#45;&gt;[root] var.vault_addr -->
<g id="edge12" class="edge">
<title>[root] provider[&quot;registry.terraform.io/hashicorp/vault&quot;]&#45;&gt;[root] var.vault_addr</title>
<path fill="none" stroke="black" d="M327.85,-217.29C342.25,-208.13 360.69,-196.39 376.73,-186.18"/>
<polygon fill="black" stroke="black" points="378.3,-188.7 384.86,-180.38 374.54,-182.79 378.3,-188.7"/>
</g>
<!-- [root] var.vault_token -->
<g id="node11" class="node">
<title>[root] var.vault_token</title>
<polygon fill="none" stroke="black" points="342.16,-180 248.16,-180 248.16,-144 348.16,-144 348.16,-174 342.16,-180"/>
<polyline fill="none" stroke="black" points="342.16,-180 342.16,-174"/>
<polyline fill="none" stroke="black" points="348.16,-174 342.16,-174"/>
<text text-anchor="middle" x="298.16" y="-156.95" font-family="Times,serif" font-size="14.00">var.vault_token</text>
</g>
<!-- [root] provider[&quot;registry.terraform.io/hashicorp/vault&quot;]&#45;&gt;[root] var.vault_token -->
<g id="edge13" class="edge">
<title>[root] provider[&quot;registry.terraform.io/hashicorp/vault&quot;]&#45;&gt;[root] var.vault_token</title>
<path fill="none" stroke="black" d="M301.93,-215.7C301.39,-208.24 300.76,-199.32 300.16,-190.97"/>
<polygon fill="black" stroke="black" points="303.59,-190.83 299.38,-181.1 296.6,-191.33 303.59,-190.83"/>
</g>
<!-- [root] vault_database_secret_backend_role.mongodb (expand)&#45;&gt;[root] vault_database_secrets_mount.mongodb (expand) -->
<g id="edge17" class="edge">
<title>[root] vault_database_secret_backend_role.mongodb (expand)&#45;&gt;[root] vault_database_secrets_mount.mongodb (expand)</title>
<path fill="none" stroke="black" d="M689.71,-359.52C664.42,-350 632.95,-338.16 606.3,-328.13"/>
<polygon fill="black" stroke="black" points="607.94,-324.63 597.35,-324.38 605.47,-331.18 607.94,-324.63"/>
</g>
<!-- [root] vault_database_secrets_mount.mongodb (expand)&#45;&gt;[root] null_resource.wait_for_db (expand) -->
<g id="edge18" class="edge">
<title>[root] vault_database_secrets_mount.mongodb (expand)&#45;&gt;[root] null_resource.wait_for_db (expand)</title>
<path fill="none" stroke="black" d="M580.38,-287.52C595.95,-278.51 615.11,-267.42 631.82,-257.76"/>
<polygon fill="black" stroke="black" points="633.42,-260.3 640.33,-252.26 629.92,-254.24 633.42,-260.3"/>
</g>
<!-- [root] vault_database_secrets_mount.mongodb (expand)&#45;&gt;[root] provider[&quot;registry.terraform.io/hashicorp/vault&quot;] -->
<g id="edge19" class="edge">
<title>[root] vault_database_secrets_mount.mongodb (expand)&#45;&gt;[root] provider[&quot;registry.terraform.io/hashicorp/vault&quot;]</title>
<path fill="none" stroke="black" d="M488.47,-287.52C450.2,-276.67 401.26,-262.8 363.29,-252.04"/>
<polygon fill="black" stroke="black" points="364.46,-248.45 353.89,-249.09 362.56,-255.19 364.46,-248.45"/>
</g>
<!-- [root] provider[&quot;registry.terraform.io/hashicorp/nomad&quot;] (close) -->
<g id="node14" class="node">
<title>[root] provider[&quot;registry.terraform.io/hashicorp/nomad&quot;] (close)</title>
<ellipse fill="none" stroke="black" cx="1246.16" cy="-522" rx="249.42" ry="18"/>
<text text-anchor="middle" x="1246.16" y="-516.95" font-family="Times,serif" font-size="14.00">[root] provider[&quot;registry.terraform.io/hashicorp/nomad&quot;] (close)</text>
</g>
<!-- [root] provider[&quot;registry.terraform.io/hashicorp/nomad&quot;] (close)&#45;&gt;[root] nomad_job.dashboard (expand) -->
<g id="edge7" class="edge">
<title>[root] provider[&quot;registry.terraform.io/hashicorp/nomad&quot;] (close)&#45;&gt;[root] nomad_job.dashboard (expand)</title>
<path fill="none" stroke="black" d="M1184.76,-504.14C1148.79,-494.27 1103.13,-481.74 1065.18,-471.32"/>
<polygon fill="black" stroke="black" points="1066.26,-467.71 1055.7,-468.44 1064.41,-474.46 1066.26,-467.71"/>
</g>
<!-- [root] provider[&quot;registry.terraform.io/hashicorp/nomad&quot;] (close)&#45;&gt;[root] nomad_job.fullvm (expand) -->
<g id="edge8" class="edge">
<title>[root] provider[&quot;registry.terraform.io/hashicorp/nomad&quot;] (close)&#45;&gt;[root] nomad_job.fullvm (expand)</title>
<path fill="none" stroke="black" d="M1246.16,-503.59C1246.16,-479.5 1246.16,-435.75 1246.16,-407.03"/>
<polygon fill="black" stroke="black" points="1249.66,-407.11 1246.16,-397.11 1242.66,-407.11 1249.66,-407.11"/>
</g>
<!-- [root] provider[&quot;registry.terraform.io/hashicorp/null&quot;] (close) -->
<g id="node15" class="node">
<title>[root] provider[&quot;registry.terraform.io/hashicorp/null&quot;] (close)</title>
<ellipse fill="none" stroke="black" cx="238.16" cy="-522" rx="238.16" ry="18"/>
<text text-anchor="middle" x="238.16" y="-516.95" font-family="Times,serif" font-size="14.00">[root] provider[&quot;registry.terraform.io/hashicorp/null&quot;] (close)</text>
</g>
<!-- [root] provider[&quot;registry.terraform.io/hashicorp/null&quot;] (close)&#45;&gt;[root] null_resource.mongodb_root_rotation (expand) -->
<g id="edge10" class="edge">
<title>[root] provider[&quot;registry.terraform.io/hashicorp/null&quot;] (close)&#45;&gt;[root] null_resource.mongodb_root_rotation (expand)</title>
<path fill="none" stroke="black" d="M258.93,-503.7C269.22,-495.11 281.83,-484.61 293.08,-475.24"/>
<polygon fill="black" stroke="black" points="294.9,-477.44 300.35,-468.35 290.42,-472.06 294.9,-477.44"/>
</g>
<!-- [root] provider[&quot;registry.terraform.io/hashicorp/vault&quot;] (close) -->
<g id="node16" class="node">
<title>[root] provider[&quot;registry.terraform.io/hashicorp/vault&quot;] (close)</title>
<ellipse fill="none" stroke="black" cx="736.16" cy="-522" rx="242.26" ry="18"/>
<text text-anchor="middle" x="736.16" y="-516.95" font-family="Times,serif" font-size="14.00">[root] provider[&quot;registry.terraform.io/hashicorp/vault&quot;] (close)</text>
</g>
<!-- [root] provider[&quot;registry.terraform.io/hashicorp/vault&quot;] (close)&#45;&gt;[root] vault_database_secret_backend_role.mongodb (expand) -->
<g id="edge11" class="edge">
<title>[root] provider[&quot;registry.terraform.io/hashicorp/vault&quot;] (close)&#45;&gt;[root] vault_database_secret_backend_role.mongodb (expand)</title>
<path fill="none" stroke="black" d="M736.16,-503.59C736.16,-479.5 736.16,-435.75 736.16,-407.03"/>
<polygon fill="black" stroke="black" points="739.66,-407.11 736.16,-397.11 732.66,-407.11 739.66,-407.11"/>
</g>
<!-- [root] root -->
<g id="node17" class="node">
<title>[root] root</title>
<ellipse fill="none" stroke="black" cx="736.16" cy="-594" rx="49.3" ry="18"/>
<text text-anchor="middle" x="736.16" y="-588.95" font-family="Times,serif" font-size="14.00">[root] root</text>
</g>
<!-- [root] root&#45;&gt;[root] provider[&quot;registry.terraform.io/hashicorp/nomad&quot;] (close) -->
<g id="edge14" class="edge">
<title>[root] root&#45;&gt;[root] provider[&quot;registry.terraform.io/hashicorp/nomad&quot;] (close)</title>
<path fill="none" stroke="black" d="M781.87,-586.73C857.82,-576.3 1012.53,-555.07 1122.47,-539.98"/>
<polygon fill="black" stroke="black" points="1122.86,-543.32 1132.3,-538.49 1121.91,-536.38 1122.86,-543.32"/>
</g>
<!-- [root] root&#45;&gt;[root] provider[&quot;registry.terraform.io/hashicorp/null&quot;] (close) -->
<g id="edge15" class="edge">
<title>[root] root&#45;&gt;[root] provider[&quot;registry.terraform.io/hashicorp/null&quot;] (close)</title>
<path fill="none" stroke="black" d="M690.65,-586.6C616.13,-576.13 465.7,-554.98 358.77,-539.95"/>
<polygon fill="black" stroke="black" points="359.3,-536.35 348.91,-538.43 358.33,-543.28 359.3,-536.35"/>
</g>
<!-- [root] root&#45;&gt;[root] provider[&quot;registry.terraform.io/hashicorp/vault&quot;] (close) -->
<g id="edge16" class="edge">
<title>[root] root&#45;&gt;[root] provider[&quot;registry.terraform.io/hashicorp/vault&quot;] (close)</title>
<path fill="none" stroke="black" d="M736.16,-575.7C736.16,-568.24 736.16,-559.32 736.16,-550.97"/>
<polygon fill="black" stroke="black" points="739.66,-551.1 736.16,-541.1 732.66,-551.1 739.66,-551.1"/>
</g>
</g>
</svg>
